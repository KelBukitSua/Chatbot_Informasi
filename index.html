<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chatbot Kelurahan Bukit Sua</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="chatbot">
  <div class="chat-header">Selamat Datang di Aplikasi Chatbot Informasi Kelurahan Bukit Sua</div>
  <div class="chat-body" id="chatBody"></div>

  <div class="quick-replies">
    <button onclick="sendQuick('Syarat SKU')">Syarat Surat Ket Usaha</button>
    <button onclick="sendQuick('Syarat SKD')">Syarat Surat Ket Domisili</button>
    <button onclick="sendQuick('Syarat SKP')">Syarat Surat Ket Pindah</button>
    <button onclick="sendQuick('Syarat SKTM')">Syarat Surat Ket Tidak Mampu</button>
    <button onclick="sendQuick('Syarat SKBK')">Syarat Surat Berkelakuan Baik</button>
    <button onclick="sendQuick('Syarat SKL')">Syarat Surat Ket Lahir</button>
    <button onclick="sendQuick('Syarat SKM')">Syarat Surat Ket Kematian</button>
    <button onclick="sendQuick('Syarat SKBNikah')">Syarat Surat Ket Belum Nikah</button>
    <button onclick="sendQuick('Syarat SKNikah')">Syarat Surat Ket Untuk Nikah</button>
    <button onclick="sendQuick('Syarat SKWaris')">Syarat Surat Ket Ahli Waris</button>
  </div>

  <div class="quick-replies2">
    <button onclick="sendQuick('Nama Lurah')">Nama Lurah</button>
    <button onclick="sendQuick('Alamat Kelurahan')">Alamat</button>
    <button onclick="sendQuick('Jam Pelayanan')">Jam Pelayanan</button>
    <button onclick="sendQuick('Kontak WhatsApp')">Kontak WhatsApp</button>
    <button onclick="sendQuick('Form pengaduan')">Pengaduan(Saran dan Masukan)</button>
    <button onclick="sendQuick('panduan')">Panduan Penggunaan Chatbot</button>
    <button onclick="sendQuick('website')">Portal/Website Kelurahan Bukit Sua</button>
    <button onclick="sendQuick('instagram')">Instagram Kelurahan Bukit Sua</button>
  </div>

  <div class="chat-footer">
    <input type="text" id="userInput" placeholder="Tulis pertanyaan..." onkeypress="if(event.key==='Enter') chat()">
    <button onclick="chat()">Kirim</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  addMessage('👋 Halo! Saya Asisten Kelurahan Bukit Sua. Ketik pertanyaan atau gunakan tombol cepat di bawah.', 'bot');
});

function addMessage(content, sender) {
  const body = document.getElementById('chatBody');
  const avatarUrl = sender === 'bot' ? 'avatar-bot.png' : 'avatar-user.png';
  const msgHTML = `
    <div class="message-row ${sender}">
      <img src="${avatarUrl}" class="avatar">
      <div class="message ${sender}">${content}</div>
    </div>
  `;
  body.insertAdjacentHTML('beforeend', msgHTML);
  body.scrollTop = body.scrollHeight;
}

function showTyping() {
  const body = document.getElementById('chatBody');
  if (!document.getElementById('typing')) {
    const typingHTML = `
      <div class="message-row bot typing" id="typing">
        <img src="avatar-bot.png" class="avatar">
        <div class="typing-indicator"><span></span><span></span><span></span></div>
      </div>
    `;
    body.insertAdjacentHTML('beforeend', typingHTML);
    body.scrollTop = body.scrollHeight;
  }
}

function hideTyping() {
  const typingDiv = document.getElementById('typing');
  if (typingDiv) typingDiv.remove();
}

function chat() {
  const input = document.getElementById('userInput');
  const msg = input.value.trim();
  if (msg === '') return;
  addMessage(msg, 'user');
  input.value = '';

  showTyping();

  let reply = getBotReply(msg);

  setTimeout(() => {
    hideTyping();
    addMessage(reply, 'bot');
  }, 700);
}

function sendQuick(text) {
  document.getElementById('userInput').value = text;
  chat();
}

function getBotReply(msg) {
  const lower = msg.toLowerCase();
  if (lower.includes('nama lurah')) {
    return '👤 Nama Lurah Kelurahan Bukit Sua adalah Ibu Noviani, S.P.';
  } else if (lower.includes('alamat')) {
    return '📍 <a href="https://maps.google.com/?q=Bukit+Sua" target="_blank">Jl. Jalan Timpung RT.001 RW.001 Bukit Sua</a>';
  } else if (lower.includes('jam')) {
    return '🕐 Pelayanan buka Senin–Jumat, pukul 08.00–15.00 WIB.';
} else if (lower.includes('skl')) {
    return '📄 Syarat Surat Keterangan Kelahiran:<br>- KTP Ayah dan Ibu (FC 1x)<br>- KK (FC 1x)<br>- Form Kelahiran (TTD RT)<br><br><a href="form-skl.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('sku')) {
    return '📄 Syarat Surat Keterangan Usaha:<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Pas Foto 3x4 (2 lembar)<br>- Foto Usaha (1 lembar)<br>- Form SKU (TTD RT)<br><br><a href="form-sku.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('sktm')) {
    return '📄 Syarat Surat Keterangan Tidak Mampu (SKTM):<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Form SKTM (TTD RT)<br><br><a href="form-sktm.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skbk')) 
  { return '📄 Syarat Surat Keterangan Berkelakuan baik:<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Pas Foto 3x4 (2 lembar)<br>- Form Surat Keterangan Berkelakuan Baik (TTD RT)<br><br><a href="form-skbk.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skm')) {
    return '📄 Syarat Surat Keterangan Kematian:<br>- KTP Almarhum (FC 1x)<br>- KK Almarhum (FC 1x)<br>- KTP Pelapor (FC 1x)<br>- Form Surat Kematian (TTD RT)<br><br><a href="form-skm.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skp')) {
    return '📄 Syarat Surat Keterangan Pindah:<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Form Keterangan Pindah (TTD RT, FC 1x)<br><br><a href="form-skp.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skd')) {
    return '📄 Syarat Surat Keterangan Domisili:<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Form Keterangan Domisili (TTD RT, FC 1x)<br><br><a href="form-skd.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skbn')) {
    return '📄 Syarat Surat Keterangan Belum Menikah:<br>- KTP (FC 1x)<br>- KK (FC 1x)<br>- Form Keterangan Belum Menikah (TTD RT, FC 1x)<br><br><a href="form-belumnikah.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skn')) {
    return '📄 Syarat Surat Keterangan Untuk Menikah:<br>- Pas Foto Gandeng (1 lembar)<br>- KTP Pria dan Wanita (FC 1x)<br>- KK Pria dan Wanita (FC 1x)<br>- Surat Keterangan Sehat Menikah (Wanita FC 1x)<br>- Form Menikah dari KUA (TTD RT, FC 1x)<br>- Form Keterangan Belum Menikah (TTD RT, FC 1x)<br><br><a href="form-nikah.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('skw')) {
    return '📄 Syarat Surat Keterangan Ahli Waris:<br>- Surat Keterangan Kematian (Asli, FC 1x)<br>- KTP (Almarhum dan seluruh Ahli Waris FC 1x)<br>- KK (Almarhum dan seluruh Ahli Waris FC 1x)<br>- Surat Keterangan Sehat Menikah (Wanita FC 1x)<br>- KTP (2 orang saksi FC 1x)<br>- Form Keterangan Ahli Waris (FC 1x)<br>- Materai 10.000 (2 lembar)<br><br><a href="form-waris.pdf" target="_blank">📥 Download Form</a>';
  } else if (lower.includes('kontak')) {
    return '📞 Hubungi via WhatsApp: <a href="https://wa.me/6282254963703" target="_blank">Klik di sini</a>';
  } else if (lower.includes('pengaduan')) {
    return '📄 Pengaduan(Saran dan Masukan): <a href="https://docs.google.com/forms/d/e/1FAIpQLSek5nRdAjOpWnnSmVpQ5ROKHV0-24EWrviuZl5f5Hmg6V9nyA/viewform?usp=sharing&ouid=100149034738123356575" target="_blank">Klik di sini</a>';
  } else if (lower.includes('panduan')) {
    return '📄 Panduan pengguna Chatbot: <a href="https://www.youtube.com/watch?v=LqpRp0OMdEY" target="_blank">Klik di sini</a>';
  } else if (lower.includes('website')) {
    return '📄 Portal/Website Kelurahan Bukit Sua: <a href="https://kel-bukitsua.palangkaraya.go.id/" target="_blank">Klik di sini</a>';
  } else if (lower.includes('instagram')) {
    return '📄 Instagram: <a href="https://www.instagram.com/kelurahan_bukitsua/" target="_blank">Klik di sini</a>';
  } else {
    return '❓ Maaf, saya belum mengerti. Silakan pilih tombol cepat di bawah.';
  }
}
</script>

</body>
</html>
